(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(14),l=n.n(u),c=n(4),o=n(2),i=function(e){var t=e.newName,n=e.newNumber,a=e.handleNameChange,u=e.handleNumberChange,l=e.handleSubmit,c=e.handleEdit,o=e.isEdit;return r.a.createElement("form",null,r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("br",null),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:n,onChange:u})),r.a.createElement("br",null),r.a.createElement("div",null,o?r.a.createElement("button",{onClick:c},"Edit"):r.a.createElement("button",{onClick:l},"Add")))},m=n(3),s=n.n(m),d="/api/persons",b=function(){return s.a.get(d).then((function(e){return e.data}))},h=function(e){return s.a.post(d,e).then((function(e){return e.data}))},E=function(e){return s.a.delete(d.concat("/".concat(e))).then((function(e){return e.data}))},f=function(e,t){return s.a.put(d.concat("/".concat(e)),t).then((function(e){return e.data}))},v=function(e){var t=e.setNewName,n=e.setNewNumber,a=e.person,u=e.setIsEdit,l=e.setSelectedId;return r.a.createElement("tr",null,r.a.createElement("td",null,a.name),r.a.createElement("td",null," ",a.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return function(e){return window.confirm("Remove ".concat(e.name,"?"))?E(e.id).then((function(){return window.location.reload()})):""}(a)}},"Delete")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return function(e){t(e.name),n(e.number),l(e.id),u(!0)}(a)}},"Edit")))},g=function(e){var t=e.persons,n=e.nameFilter,a=e.setErrorMessage;return r.a.createElement("table",null,r.a.createElement("tbody",null,n?t.length>0&&t.map((function(t){return a(""),t.name.toLowerCase().includes(n.toLowerCase())?r.a.createElement(v,Object.assign({},e,{person:t,key:t.id})):a("The name doesn't exist")})):t.length>0&&t.map((function(t){return r.a.createElement(v,Object.assign({},e,{person:t,key:t.id}))}))))},p=function(e){var t=e.nameFilter,n=e.handleNameFilterChange;return r.a.createElement("div",null,"Filter Name:"," ",r.a.createElement("input",{value:t,onChange:n}))},w=(n(37),function(e){var t=e.successMessage,n=e.errorMessage;return t?r.a.createElement("div",null,r.a.createElement("p",{className:"success"},t)):r.a.createElement("div",null,r.a.createElement("p",{className:"error"},n))}),N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),m=Object(o.a)(l,2),s=m[0],d=m[1],E=Object(a.useState)(""),v=Object(o.a)(E,2),N=v[0],j=v[1],O=Object(a.useState)(""),C=Object(o.a)(O,2),k=C[0],S=C[1],F=Object(a.useState)(""),M=Object(o.a)(F,2),y=M[0],I=M[1],D=Object(a.useState)(""),x=Object(o.a)(D,2),A=x[0],J=x[1],L=Object(a.useState)(!1),P=Object(o.a)(L,2),R=P[0],T=P[1],B=Object(a.useState)(),q=Object(o.a)(B,2),z=q[0],G=q[1];return Object(a.useEffect)((function(){b().then((function(e){return u(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(w,{successMessage:y,errorMessage:A}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{nameFilter:k,handleNameFilterChange:function(e){return S(e.target.value)}}),r.a.createElement("h2",null,"Add a New Person"),r.a.createElement(i,{newName:s,newNumber:N,handleNameChange:function(e){var t;return d((null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||e)},handleNumberChange:function(e){var t;return j((null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||e)},handleSubmit:function(e){e.preventDefault();var t=n.length>0&&n.find((function(e){return e.name===s}));if(t){var a=window.confirm("".concat(s," already exists in the phonebook. Replace new number with the new one?")),r=Object(c.a)({},t,{number:N});return a?f(t.id,r).then((function(){return window.location.reload()})):""}var l={id:n.length>0?n[n.length-1].number:11111,name:s,number:N};return d(""),j(""),I("Done"),setTimeout((function(){return I("")}),2e3),h(l).then((function(e){return u(n.concat(e))}))},handleEdit:function(e){e.preventDefault();var t=n.length>0&&n.find((function(e){return e.id===z})),a=Object(c.a)({},t,{name:s,number:N});return f(z,a).then((function(){return window.location.reload()}))},isEdit:R}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(g,{setNewName:d,setNewNumber:j,persons:n,setIsEdit:T,nameFilter:k,setErrorMessage:J,setSelectedId:G}))};l.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.3b5a7600.chunk.js.map