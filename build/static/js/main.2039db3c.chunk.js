(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n.n(l),u=n(4),i=n(2),o=function(e){var t=e.newName,n=e.newNumber,a=e.handleNameChange,l=e.handleNumberChange,c=e.handleSubmit,u=e.handleEdit,i=e.isEdit;return r.a.createElement("form",null,r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("br",null),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:n,onChange:l})),r.a.createElement("br",null),r.a.createElement("div",null,i?r.a.createElement("button",{onClick:u},"Save Changes"):r.a.createElement("button",{onClick:c},"Add")))},m=n(3),s=n.n(m),d="/api/persons",E=function(){return s.a.get(d).then((function(e){return e.data}))},b=function(e){return s.a.post(d,e).then((function(e){return e.data}))},h=function(e){return s.a.delete(d.concat("/".concat(e))).then((function(e){return e.data}))},f=function(e,t){return s.a.put(d.concat("/".concat(e)),t).then((function(e){return e.data}))},v=function(e){var t=e.setNewName,n=e.setNewNumber,a=e.person,l=e.setIsEdit,c=e.setSelectedId;return r.a.createElement("tr",null,r.a.createElement("td",null,a.name),r.a.createElement("td",null," ",a.number),r.a.createElement("td",null,r.a.createElement("button",{className:"theme-button",onClick:function(){return function(e){return window.confirm("Remove ".concat(e.name,"?"))?h(e.id).then((function(){return window.location.reload()})):""}(a)}},"Delete")),r.a.createElement("td",null,r.a.createElement("button",{className:"theme-button",onClick:function(){return function(e){t(e.name),n(e.number),c(e.id),l(!0)}(a)}},"Edit")))},N=function(e){var t=e.persons,n=e.nameFilter,a=e.setErrorMessage;return r.a.createElement("table",null,r.a.createElement("tbody",null,n?t.length>0&&t.map((function(t){return a(""),t.name.toLowerCase().includes(n.toLowerCase())?r.a.createElement(v,Object.assign({},e,{person:t,key:t.id})):a("The name doesn't exist")})):t.length>0&&t.map((function(t){return a(""),r.a.createElement(v,Object.assign({},e,{person:t,key:t.id}))}))))},g=function(e){var t=e.nameFilter,n=e.handleNameFilterChange;return r.a.createElement("div",null,"Filter Name:"," ",r.a.createElement("input",{value:t,onChange:n}))},p=function(e){var t=e.successMessage,n=e.errorMessage;return t?r.a.createElement("div",null,r.a.createElement("p",{className:"success"},t)):r.a.createElement("div",null,r.a.createElement("p",{className:"error"},n))},w=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},j=(n(37),n(38),function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),m=Object(i.a)(c,2),s=m[0],d=m[1],h=Object(a.useState)(""),v=Object(i.a)(h,2),j=v[0],O=v[1],C=Object(a.useState)(""),S=Object(i.a)(C,2),k=S[0],F=S[1],M=Object(a.useState)(""),y=Object(i.a)(M,2),I=y[0],x=y[1],D=Object(a.useState)(""),A=Object(i.a)(D,2),J=A[0],L=A[1],P=Object(a.useState)(!1),R=Object(i.a)(P,2),T=R[0],B=R[1],q=Object(a.useState)(),z=Object(i.a)(q,2),G=z[0],H=z[1],K=Object(a.useState)(!0),Q=Object(i.a)(K,2),U=Q[0],V=Q[1];return Object(a.useEffect)((function(){E().then((function(e){return l(e)})).then((function(){return V(!1)}))}),[]),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"main"},r.a.createElement("aside",{className:"form"},r.a.createElement("h2",null,"Add a New Person"),r.a.createElement(o,{newName:s,newNumber:j,handleNameChange:function(e){var t;return d((null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||e)},handleNumberChange:function(e){var t;return O((null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)||e)},handleSubmit:function(e){e.preventDefault();var t=n.length>0&&n.find((function(e){return e.name===s}));if(t){var a=window.confirm("".concat(s," already exists in the phonebook. Replace new number with the new one?")),r=Object(u.a)({},t,{number:j});return a?f(t.id,r).then((function(){return window.location.reload()})):""}var c={id:n.length>0?n[n.length-1].number:11111,name:s,number:j};return d(""),O(""),x("Done"),setTimeout((function(){return x("")}),2e3),b(c).then((function(e){return l(n.concat(e))}))},handleEdit:function(e){e.preventDefault();var t=n.length>0&&n.find((function(e){return e.id===G})),a=Object(u.a)({},t,{name:s,number:j});return f(G,a).then((function(){return window.location.reload()}))},isEdit:T})),r.a.createElement("div",{className:"main-right clearfix"},r.a.createElement("div",{className:"right-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Phonebook"),r.a.createElement("section",{className:"filter"},r.a.createElement(g,{nameFilter:k,handleNameFilterChange:function(e){return F(e.target.value)}}))),r.a.createElement("div",{className:"table-container"},r.a.createElement(p,{successMessage:I,errorMessage:J}),r.a.createElement("section",{className:"data-table"},r.a.createElement("h2",null,"Numbers"),U?r.a.createElement(w,null):r.a.createElement(N,{setNewName:d,setNewNumber:O,persons:n,setIsEdit:B,nameFilter:k,setErrorMessage:L,setSelectedId:H})))))))});c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2039db3c.chunk.js.map