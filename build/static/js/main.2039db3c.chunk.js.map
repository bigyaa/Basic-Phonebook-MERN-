{"version":3,"sources":["components/PersonForm.js","services/personServices.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","components/Loader.js","components/App.js","index.js"],"names":["PersonForm","props","newName","newNumber","handleNameChange","handleNumberChange","handleSubmit","handleEdit","isEdit","value","onChange","onClick","baseUrl","axios","get","then","response","data","person","post","id","delete","concat","updatedPerson","put","Person","setNewName","setNewNumber","setIsEdit","setSelectedId","name","number","className","window","confirm","personServices","location","reload","handleDelete","handleUpdate","Persons","persons","nameFilter","setErrorMessage","length","map","toLowerCase","includes","key","Filter","handleNameFilterChange","Notification","successMessage","errorMessage","Loader","App","useState","setPersons","setNameFilter","setSuccessMessage","selectedId","loading","setLoading","useEffect","event","target","preventDefault","find","replace","newPerson","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2039db3c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n\tconst {\r\n\t\tnewName,\r\n\t\tnewNumber,\r\n\t\thandleNameChange,\r\n\t\thandleNumberChange,\r\n\t\thandleSubmit,\r\n\t\thandleEdit,\r\n\t\tisEdit,\r\n\t} = props;\r\n\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tName: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\tNumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t{isEdit ? (\r\n\t\t\t\t\t<button onClick={handleEdit}>Save Changes</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button onClick={handleSubmit}>Add</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => axios.get(baseUrl).then(response => response.data);\r\n\r\nconst addPerson = person =>\r\n  axios.post(baseUrl, person).then(response => response.data);\r\n\r\nconst removePerson = id =>\r\n  axios.delete(baseUrl.concat(`/${id}`)).then(response => response.data);\r\n\r\nconst updatePerson = (id, updatedPerson) =>\r\n  axios\r\n    .put(baseUrl.concat(`/${id}`), updatedPerson)\r\n    .then(response => response.data);\r\n\r\nexport default { getAll, addPerson, removePerson, updatePerson };\r\n","import React from \"react\";\r\nimport personServices from \"../services/personServices\";\r\n\r\nconst Person = (props) => {\r\n\tconst { setNewName, setNewNumber, person, setIsEdit, setSelectedId } = props;\r\n\r\n\tconst handleDelete = (person) => {\r\n\t\tconst remove = window.confirm(`Remove ${person.name}?`);\r\n\r\n\t\treturn remove\r\n\t\t\t? personServices\r\n\t\t\t\t\t.removePerson(person.id)\r\n\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t: \"\";\r\n\t};\r\n\r\n\tconst handleUpdate = (person) => {\r\n\t\tsetNewName(person.name);\r\n\t\tsetNewNumber(person.number);\r\n\t\tsetSelectedId(person.id);\r\n\t\tsetIsEdit(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{person.name}</td>\r\n\t\t\t<td> {person.number}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button className='theme-button' onClick={() => handleDelete(person)}>Delete</button>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button className='theme-button' onClick={() => handleUpdate(person)}>Edit</button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = (props) => {\r\n\tconst { persons, nameFilter, setErrorMessage } = props;\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t\t{nameFilter\r\n\t\t\t\t\t? persons.length > 0 &&\r\n\t\t\t\t\t  persons.map((person) => {\r\n\t\t\t\t\t\t\tsetErrorMessage(\"\");\r\n\t\t\t\t\t\t\treturn person.name\r\n\t\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t\t.includes(nameFilter.toLowerCase()) ? (\r\n\t\t\t\t\t\t\t\t<Person {...props} person={person} key={person.id} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tsetErrorMessage(\"The name doesn't exist\")\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: persons.length > 0 &&\r\n\t\t\t\t\t  persons.map((person) => {\r\n\t\t\t\t\t\t\tsetErrorMessage(\"\");\r\n\t\t\t\t\t\t\treturn <Person {...props} person={person} key={person.id} />;\r\n\t\t\t\t\t  })}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Filter = props => {\r\n  const { nameFilter, handleNameFilterChange } = props;\r\n\r\n  return (\r\n    <div>\r\n      Filter Name:{\" \"}\r\n      <input value={nameFilter} onChange={handleNameFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ successMessage, errorMessage }) =>\r\n\tsuccessMessage ? (\r\n\t\t<div>\r\n\t\t\t<p className=\"success\">{successMessage}</p>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<p className=\"error\">{errorMessage}</p>\r\n\t\t</div>\r\n\t);\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Loader = () => (\r\n\t<div className=\"loader\">\r\n\t\t<div></div>\r\n\t\t<div></div>\r\n\t\t<div></div>\r\n\t</div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport PersonForm from \"./PersonForm\";\r\nimport Persons from \"./Persons\";\r\nimport Filter from \"./Filter\";\r\nimport Notification from \"./Notification\";\r\nimport Loader from \"./Loader\";\r\nimport \"../style.css\";\r\nimport \"../helper.css\";\r\n\r\nimport personServices from \"../services/personServices\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [nameFilter, setNameFilter] = useState(\"\");\r\n\tconst [successMessage, setSuccessMessage] = useState(\"\");\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedId, setSelectedId] = useState();\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst handleNameChange = (event) => setNewName(event?.target?.value || event);\r\n\tconst handleNumberChange = (event) =>\r\n\t\tsetNewNumber(event?.target?.value || event);\r\n\tconst handleNameFilterChange = (event) => setNameFilter(event.target.value);\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst person =\r\n\t\t\tpersons.length > 0 && persons.find((person) => person.name === newName);\r\n\r\n\t\tif (person) {\r\n\t\t\tconst replace = window.confirm(\r\n\t\t\t\t`${newName} already exists in the phonebook. Replace new number with the new one?`\r\n\t\t\t);\r\n\r\n\t\t\tconst newPerson = {\r\n\t\t\t\t...person,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\r\n\t\t\treturn replace\r\n\t\t\t\t? personServices\r\n\t\t\t\t\t\t.updatePerson(person.id, newPerson)\r\n\t\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t\t: \"\";\r\n\t\t} else {\r\n\t\t\tconst newPerson = {\r\n\t\t\t\tid: persons.length > 0 ? persons[persons.length - 1].number : 11111,\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\r\n\t\t\tsetNewName(\"\");\r\n\t\t\tsetNewNumber(\"\");\r\n\r\n\t\t\tsetSuccessMessage(\"Done\");\r\n\r\n\t\t\tsetTimeout(() => setSuccessMessage(\"\"), 2000);\r\n\r\n\t\t\treturn personServices\r\n\t\t\t\t.addPerson(newPerson)\r\n\t\t\t\t.then((response) => setPersons(persons.concat(response)));\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleEdit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst person =\r\n\t\t\tpersons.length > 0 && persons.find((person) => person.id === selectedId);\r\n\r\n\t\tconst newPerson = {\r\n\t\t\t...person,\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\treturn personServices\r\n\t\t\t.updatePerson(selectedId, newPerson)\r\n\t\t\t.then(() => window.location.reload());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonServices\r\n\t\t\t.getAll()\r\n\t\t\t.then((response) => setPersons(response))\r\n\t\t\t.then(() => setLoading(false));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"main-container\">\r\n\t\t\t<div className=\"main\">\r\n\t\t\t\t<aside className=\"form\">\r\n\t\t\t\t\t<h2>Add a New Person</h2>\r\n\t\t\t\t\t<PersonForm\r\n\t\t\t\t\t\tnewName={newName}\r\n\t\t\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\t\t\thandleEdit={handleEdit}\r\n\t\t\t\t\t\tisEdit={isEdit}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</aside>\r\n\r\n\t\t\t\t<div className=\"main-right clearfix\">\r\n\t\t\t\t\t<div className=\"right-container\">\r\n\t\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t\t<h1>Phonebook</h1>\r\n\t\t\t\t\t\t\t<section className=\"filter\">\r\n\t\t\t\t\t\t\t\t<Filter\r\n\t\t\t\t\t\t\t\t\tnameFilter={nameFilter}\r\n\t\t\t\t\t\t\t\t\thandleNameFilterChange={handleNameFilterChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"table-container\">\r\n\t\t\t\t\t\t\t<Notification\r\n\t\t\t\t\t\t\t\tsuccessMessage={successMessage}\r\n\t\t\t\t\t\t\t\terrorMessage={errorMessage}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<section className=\"data-table\">\r\n\t\t\t\t\t\t\t\t<h2>Numbers</h2>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Persons\r\n\t\t\t\t\t\t\t\t\t\tsetNewName={setNewName}\r\n\t\t\t\t\t\t\t\t\t\tsetNewNumber={setNewNumber}\r\n\t\t\t\t\t\t\t\t\t\tpersons={persons}\r\n\t\t\t\t\t\t\t\t\t\tsetIsEdit={setIsEdit}\r\n\t\t\t\t\t\t\t\t\t\tnameFilter={nameFilter}\r\n\t\t\t\t\t\t\t\t\t\tsetErrorMessage={setErrorMessage}\r\n\t\t\t\t\t\t\t\t\t\tsetSelectedId={setSelectedId}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}