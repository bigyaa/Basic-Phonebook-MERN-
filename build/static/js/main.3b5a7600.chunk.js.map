{"version":3,"sources":["components/PersonForm.js","services/personServices.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","components/App.js","index.js"],"names":["PersonForm","props","newName","newNumber","handleNameChange","handleNumberChange","handleSubmit","handleEdit","isEdit","value","onChange","onClick","baseUrl","axios","get","then","response","data","person","post","id","delete","concat","updatedPerson","put","Person","setNewName","setNewNumber","setIsEdit","setSelectedId","name","number","window","confirm","personServices","location","reload","handleDelete","handleUpdate","Persons","persons","nameFilter","setErrorMessage","length","map","toLowerCase","includes","key","Filter","handleNameFilterChange","Notification","successMessage","errorMessage","className","App","useState","setPersons","setNameFilter","setSuccessMessage","selectedId","useEffect","event","target","preventDefault","find","replace","newPerson","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3b5a7600.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n\tconst {\r\n\t\tnewName,\r\n\t\tnewNumber,\r\n\t\thandleNameChange,\r\n\t\thandleNumberChange,\r\n\t\thandleSubmit,\r\n\t\thandleEdit,\r\n\t\tisEdit,\r\n\t} = props;\r\n\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tName: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\tNumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t{isEdit ? (\r\n\t\t\t\t\t<button onClick={handleEdit}>Edit</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button onClick={handleSubmit}>Add</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => axios.get(baseUrl).then(response => response.data);\r\n\r\nconst addPerson = person =>\r\n  axios.post(baseUrl, person).then(response => response.data);\r\n\r\nconst removePerson = id =>\r\n  axios.delete(baseUrl.concat(`/${id}`)).then(response => response.data);\r\n\r\nconst updatePerson = (id, updatedPerson) =>\r\n  axios\r\n    .put(baseUrl.concat(`/${id}`), updatedPerson)\r\n    .then(response => response.data);\r\n\r\nexport default { getAll, addPerson, removePerson, updatePerson };\r\n","import React from \"react\";\r\nimport personServices from \"../services/personServices\";\r\n\r\nconst Person = (props) => {\r\n\tconst { setNewName, setNewNumber, person, setIsEdit, setSelectedId } = props;\r\n\r\n\tconst handleDelete = (person) => {\r\n\t\tconst remove = window.confirm(`Remove ${person.name}?`);\r\n\r\n\t\treturn remove\r\n\t\t\t? personServices\r\n\t\t\t\t\t.removePerson(person.id)\r\n\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t: \"\";\r\n\t};\r\n\r\n\tconst handleUpdate = (person) => {\r\n\t\tsetNewName(person.name);\r\n\t\tsetNewNumber(person.number);\r\n\t\tsetSelectedId(person.id);\r\n\t\tsetIsEdit(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{person.name}</td>\r\n\t\t\t<td> {person.number}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button onClick={() => handleDelete(person)}>Delete</button>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button onClick={() => handleUpdate(person)}>Edit</button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = (props) => {\r\n\tconst { persons, nameFilter, setErrorMessage } = props;\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t\t{nameFilter\r\n\t\t\t\t\t? persons.length > 0 &&\r\n\t\t\t\t\t  persons.map((person) => {\r\n\t\t\t\t\t\t\tsetErrorMessage(\"\");\r\n\t\t\t\t\t\t\treturn person.name\r\n\t\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t\t.includes(nameFilter.toLowerCase()) ? (\r\n\t\t\t\t\t\t\t\t<Person {...props} person={person} key={person.id} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tsetErrorMessage(\"The name doesn't exist\")\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: persons.length > 0 &&\r\n\t\t\t\t\t  persons.map((person) => (\r\n\t\t\t\t\t\t\t<Person {...props} person={person} key={person.id} />\r\n\t\t\t\t\t  ))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Filter = props => {\r\n  const { nameFilter, handleNameFilterChange } = props;\r\n\r\n  return (\r\n    <div>\r\n      Filter Name:{\" \"}\r\n      <input value={nameFilter} onChange={handleNameFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport \"../style.css\";\r\n\r\nconst Notification = ({ successMessage, errorMessage }) =>\r\n\tsuccessMessage ? (\r\n\t\t<div>\r\n\t\t\t<p className=\"success\">{successMessage}</p>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<p className=\"error\">{errorMessage}</p>\r\n\t\t</div>\r\n\t);\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport PersonForm from \"./PersonForm\";\r\nimport Persons from \"./Persons\";\r\nimport Filter from \"./Filter\";\r\nimport Notification from \"./Notification\";\r\n\r\nimport personServices from \"../services/personServices\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [nameFilter, setNameFilter] = useState(\"\");\r\n\tconst [successMessage, setSuccessMessage] = useState(\"\");\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\r\n\tconst [isEdit, setIsEdit] = useState(false);\r\n\tconst [selectedId, setSelectedId] = useState();\r\n\r\n\tconst handleNameChange = (event) => setNewName(event?.target?.value || event);\r\n\tconst handleNumberChange = (event) =>\r\n\t\tsetNewNumber(event?.target?.value || event);\r\n\tconst handleNameFilterChange = (event) => setNameFilter(event.target.value);\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst person =\r\n\t\t\tpersons.length > 0 && persons.find((person) => person.name === newName);\r\n\r\n\t\tif (person) {\r\n\t\t\tconst replace = window.confirm(\r\n\t\t\t\t`${newName} already exists in the phonebook. Replace new number with the new one?`\r\n\t\t\t);\r\n\r\n\t\t\tconst newPerson = {\r\n\t\t\t\t...person,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\r\n\t\t\treturn replace\r\n\t\t\t\t? personServices\r\n\t\t\t\t\t\t.updatePerson(person.id, newPerson)\r\n\t\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t\t: \"\";\r\n\t\t} else {\r\n\t\t\tconst newPerson = {\r\n\t\t\t\tid: persons.length > 0 ? persons[persons.length - 1].number : 11111,\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\r\n\t\t\tsetNewName(\"\");\r\n\t\t\tsetNewNumber(\"\");\r\n\r\n\t\t\tsetSuccessMessage(\"Done\");\r\n\r\n\t\t\tsetTimeout(() => setSuccessMessage(\"\"), 2000);\r\n\r\n\t\t\treturn personServices\r\n\t\t\t\t.addPerson(newPerson)\r\n\t\t\t\t.then((response) => setPersons(persons.concat(response)));\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleEdit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst person =\r\n\t\t\tpersons.length > 0 && persons.find((person) => person.id === selectedId);\r\n\r\n\t\tconst newPerson = {\r\n\t\t\t...person,\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\treturn personServices\r\n\t\t\t.updatePerson(selectedId, newPerson)\r\n\t\t\t.then(() => window.location.reload());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonServices.getAll().then((response) => setPersons(response));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Notification\r\n\t\t\t\tsuccessMessage={successMessage}\r\n\t\t\t\terrorMessage={errorMessage}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Filter\r\n\t\t\t\tnameFilter={nameFilter}\r\n\t\t\t\thandleNameFilterChange={handleNameFilterChange}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Add a New Person</h2>\r\n\t\t\t<PersonForm\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\thandleEdit={handleEdit}\r\n\t\t\t\tisEdit={isEdit}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons\r\n\t\t\t\tsetNewName={setNewName}\r\n\t\t\t\tsetNewNumber={setNewNumber}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsetIsEdit={setIsEdit}\r\n\t\t\t\tnameFilter={nameFilter}\r\n\t\t\t\tsetErrorMessage={setErrorMessage}\r\n\t\t\t\tsetSelectedId={setSelectedId}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}